<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 4. How it works</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="NOOT Instrument Tuner"><link rel="up" href="index.html" title="NOOT Instrument Tuner"><link rel="prev" href="ch03.html" title="Chapter 3. Advanced usage"><link rel="next" href="ch05.html" title="Chapter 5. Troubleshooting"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter" title="Chapter 4. How it works"><div class="titlepage"><div><div><h2 class="title"><a name="howitworks"></a>Chapter 4. How it works</h2></div></div></div><p>NOOT Instrument tuner implements a two-step method to estimate a frequency with one-cent precition with relatively narrow window sizes. In the first step, the program computes the FFT of the input signal, and finds an initial range in which the frequency to be measured should be. Then, a refinement algorithm improves the measure.</p><p>In the first versions of NOOT, an autocovariance-based refinement algorithm were used. Now the default method computes a close approximation of the continuous power spectrum of the audio signal.</p><p>With the old approach, every time the display is updated, the following algorithm is computed on the current window:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A FFT is used to find the frequency with the highest spectral density within the note and octave constraints (if selected) </p></li><li class="listitem"><p>From that frequency, an interval of possible frequencies is taken. </p></li><li class="listitem"><p>Autocorrelation is computed at the times corresponding to that frequency interval; the time lag corresponding to the highest autocorrelation is kept. </p></li><li class="listitem"><p>Repeatedly, the frequency is halved (the time lag is doubled) and the time lag corresponding to the highest autocorrelation among the near values is kept. </p></li></ul></div><p>The main disadvantage of this approach is that it ceases to be precise in cases when the harmonics are far less than perfect.</p><p>With the new approach, the signal is compared with a wave having a frequency in the range detected in the first step through linear with a function similar to the linear correlation. Then the frequency of this wave is changed slightly at each step in order to find the waveform which is more similar to the signal, until the required precision is expected.</p></div></body></html>
